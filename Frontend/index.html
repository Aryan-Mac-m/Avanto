<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Avento</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/global.css">
</head>
<body>

<!-- ANIMATED INTRO -->
<div id="introSection" class="intro-container">
    <div class="particles" id="particles"></div>
    <div class="intro-content">
        <img src="assets/logo.png" alt="Avento Logo" class="intro-logo">
        <h1>Welcome to Avento</h1>
        <p>Discover services near you</p>
        <button class="get-started-btn" onclick="showLogin()">Get Started</button>
    </div>
</div>

<!-- LOGIN -->
<div class="login-overlay hidden" id="loginBox">
    <div class="login-card">
        <button class="back-btn" onclick="showIntro()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
        </button>
        
        <div class="login-header">
            <img src="assets/logo.png" alt="Avento" class="login-logo">
            <h2>Welcome Back</h2>
            <p>Enter your phone number to continue</p>
        </div>

        <div class="login-form">
            <div class="input-group" id="phoneGroup">
                <label>Phone Number</label>
                <div class="phone-input-wrapper">
                    <span class="country-code">+91</span>
                    <input type="tel" id="phone" placeholder="98765 43210" maxlength="10">
                </div>
                <span class="input-hint">We'll send you a verification code</span>
            </div>

            <button type="button" class="primary-btn" onclick="sendOTP()" id="sendOtpBtn">
                <span class="btn-text">Send OTP</span>
                <span class="btn-loader hidden">
                    <svg class="spinner" viewBox="0 0 50 50">
                        <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
                    </svg>
                </span>
            </button>
        </div>

        <div class="otp-section hidden" id="otpBox">
            <div class="otp-header">
                <p>Enter the 4-digit code sent to</p>
                <p class="otp-phone" id="otpPhoneDisplay">+91 98765 43210</p>
            </div>
            
            <div class="otp-input-group">
                <input type="text" class="otp-input" maxlength="1" data-index="0">
                <input type="text" class="otp-input" maxlength="1" data-index="1">
                <input type="text" class="otp-input" maxlength="1" data-index="2">
                <input type="text" class="otp-input" maxlength="1" data-index="3">
            </div>
            
            <input type="hidden" id="otp" value="">
            
            <div class="otp-actions">
                <button type="button" class="secondary-btn" onclick="resendOTP()" id="resendBtn">
                    Resend OTP <span id="timer"></span>
                </button>
                <button type="button" class="primary-btn" onclick="verifyOTP()" id="verifyBtn">
                    <span class="btn-text">Verify & Continue</span>
                    <span class="btn-loader hidden">
                        <svg class="spinner" viewBox="0 0 50 50">
                            <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
                        </svg>
                    </span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- MAP -->
<div id="mapSection" class="hidden">
    <h2>Find Services Near You</h2>

    <div class="map-controls">
        <input type="text" id="locationInput" placeholder="Enter city or area">
        <button onclick="searchLocation()">Search</button>
        <button onclick="useMyLocation()">Use My Location</button>
        <button onclick="confirmAndContinue()" class="confirm-location-btn">Confirm Location</button>
    </div>

    <div id="map"></div>
</div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- IMPORTANT: JS MUST LOAD LAST -->
<script src="js/app.js"></script>
<script>
    // Generate floating particles
    function createParticles() {
        const container = document.getElementById('particles');
        const particleCount = 50;
        
        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDuration = (Math.random() * 10 + 5) + 's';
            particle.style.animationDelay = Math.random() * 5 + 's';
            container.appendChild(particle);
        }
    }
    
    // Initialize particles on load
    createParticles();
</script>

</body>
</html>
